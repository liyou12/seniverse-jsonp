"use strict";var _prototypeProperties=function(t,e,o){e&&Object.defineProperties(t,e),o&&Object.defineProperties(t.prototype,o)},_classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Seniverse=function(){function t(e,o,i){_classCallCheck(this,t);var n={api:"now",language:"zh-Hans",location:"beijing",ttl:1800,unit:"c",callback:"showData"};for(var a in n)n.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=n[a]);this.uid=e||"",this.key=o||"",this.options=i,this.options.api="https://api.seniverse.com/v3/"+{weather:{now:"weather/now.json?",grid_now:"weather/grid/now.json?",grid_minutely:"weather/grid/minutely.json?",daily:"weather/daily.json?",hourly:"weather/hourly.json?",hourly_history:"weather/hourly_history.json?",hourly3h:"weather/hourly3h.json?",alarm:"weather/alarm.json?"}}.weather[i.api]}return _prototypeProperties(t,null,{sign:{value:function(){var t="ts="+Math.floor((new Date).getTime()/1e3)+"&ttl="+this.options.ttl+"&uid="+this.uid,e=CryptoJS.HmacSHA1(t,this.key),o=encodeURIComponent(e.toString(CryptoJS.enc.Base64));return t+"&sig="+o},writable:!0,configurable:!0},request:{value:function(){var t=this.sign(),e="location="+this.options.location+"&unit="+this.options.unit+"&language="+this.options.language+"&"+t+"&callback="+this.options.callback,o=document.createElement("script");o.src=this.options.api+e,document.body.appendChild(o)},writable:!0,configurable:!0}}),t}();